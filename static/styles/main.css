/* =====================
   CSS Variables & Base
   ===================== */
:root {
  --bg: #ebebeb;
  --text: #181818;
  --primary: #2563eb;
  --secondary: #e5e7eb;
  --card: #fff;
}

body, html {
  background: var(--bg);
  color: var(--text);
}

/* =====================
   Dark Mode Overrides
   ===================== */
body.dark-mode, html.dark-mode {
  --bg: #18181b;
  --text: #f7f7f7;
  --primary: #2563eb;
  --secondary: #27272a;
  --card: #23232a;
}

/* =====================
   Utility Classes
   ===================== */
.bg-neutral-900 { background: var(--bg) !important; }
.text-white { color: var(--text) !important; }
.card, .bg-white { background: var(--card) !important; color: var(--text) !important; }
.bg-neutral-150 {
  background-color: #f3f4f6 !important;
}

/* =====================
   Chat Input & Help Button
   ===================== */
body:not(.dark-mode) #chat-form,
html:not(.dark-mode) #chat-form {
  background: #ffffff !important;
  border: 1px solid rgba(0, 0, 0, 0.1) !important;
  border-radius: 1.5rem !important;
  display: flex !important;
  align-items: center !important;
}

body.dark-mode #chat-form,
html.dark-mode #chat-form {
  background: #242730 !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  border-radius: 1.5rem !important;
  display: flex !important;
  align-items: center !important;
}

body:not(.dark-mode) #help-button, html:not(.dark-mode) #help-button {
  border-radius: 9999px; /* rounded-full */
  background: #F3F6FA;
  color: #0A84FF;
  font-weight: 500;
  box-shadow: 0 1px 4px 0 rgba(16,30,54,0.06);
  border: 1px solid #E5EAF0;
  transition: background 0.2s, color 0.2s;
}
body:not(.dark-mode) #help-button:hover, html:not(.dark-mode) #help-button:hover {
  background: #E5F0FF;
}

/* =====================
   Chat & Message Styling
   ===================== */
body:not(.dark-mode) .main-info-text,
html:not(.dark-mode) .main-info-text {
  color: #1e293b !important; 
}
body:not(.dark-mode) .main-note-text,
html:not(.dark-mode) .main-note-text {
  color: #334155 !important; 
}
body:not(.dark-mode) #mobile-message {
  color: #1e293b !important; 
}
body:not(.dark-mode) #user-input,
html:not(.dark-mode) #user-input {
  color: black !important;
}
body.dark-mode #user-input,
html.dark-mode #user-input {
  color: white !important;
}

#help-modal-text {
  color: white !important;
}
#model-output {
  color: white !important;
}
#user-message {
  color: white !important;
}

/* =====================
   Dot-Flashing
   ===================== */
.dot-flashing {
  position: relative;
  width: 10px;
  height: 10px;
  border-radius: 5px;
  background-color: #ffffff;
  animation: dotFlashing 1s infinite linear alternate;
}
body:not(.dark-mode) .dot-flashing {
  background-color: #18181b;
}
body:not(.dark-mode) .dot-flashing::before,
body:not(.dark-mode) .dot-flashing::after {
  background-color: #18181b;
}
.dot-flashing::before, .dot-flashing::after {
  content: '';
  display: inline-block;
  position: absolute;
  top: 0;
  width: 10px;
  height: 10px;
  border-radius: 5px;
  background-color: #ffffff;
}
.dot-flashing::before {
  left: -15px;
  animation: dotFlashing 1s infinite linear alternate;
  animation-delay: 0.2s;
}
.dot-flashing::after {
  left: 15px;
  animation: dotFlashing 1s infinite linear alternate;
  animation-delay: 0.4s;
}
@keyframes dotFlashing {
  0% { opacity: 0.2; }
  100% { opacity: 1; }
}

.pulsing-dot-red {
  display: inline-block;
  width: 12px;
  height: 12px;
  background: #ef4444;
  border-radius: 50%;
  box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
  animation: pulse-red 1s infinite;
  vertical-align: middle;
  margin-left: 10px;
  padding-right: 10px;
}
@keyframes pulse-red {
  0% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
  }
  70% {
    box-shadow: 0 0 0 8px rgba(239, 68, 68, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);
  }
}

/* =====================
   Animations
   ===================== */
@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in {
  animation: fade-in 0.8s ease-out;
}

/* =====================
   Login Page Styling
   ===================== */
.login-container.bg-neutral-100 {
  background: #f3f4f6 !important; /* light gray */
  color: #18181b !important;
}
.login-container.bg-neutral-800 {
  background: #23232a !important;
  color: #fff !important;
}
body:not(.dark-mode) .login-container p.text-neutral-400 {
  color: #334155 !important; /* slate-700 for better contrast in light mode */
}
body:not(.dark-mode) .login-container input[type="email"] {
  background: #fff !important;
  color: #18181b !important;
}
body:not(.dark-mode) .login-container input[type="email"]::placeholder {
  color: #64748b !important; /* slate-400 */
}
body:not(.dark-mode) .login-container .signin-btn {
  color: #fff !important;
}

/* =====================
   Pulsing Dot Animation
   ===================== */
.pulsing-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #fff;
  display: inline-block;
  animation: pulsingDot 1s infinite cubic-bezier(0.4,0,0.2,1);
}
body:not(.dark-mode) .pulsing-dot {
  background: #18181b;
}
@keyframes pulsingDot {
  0% { transform: scale(0.7); opacity: 0.5; }
  50% { transform: scale(1.2); opacity: 1; }
  100% { transform: scale(0.7); opacity: 0.5; }
}

/* =====================
   Glassmorphism for chat bubbles
   ===================== */
body:not(.dark-mode) .user-bubble,
body:not(.dark-mode) .model-bubble {
  color: #18181b !important;
}
.user-bubble {
  background: rgba(59, 130, 246, 0.18); /* blue-600 with opacity */
  color: #fff;
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  border: 1px solid rgba(59, 130, 246, 0.18);
  box-shadow: 0 4px 24px 0 rgba(31,38,135,0.10);
  transition: background 0.2s, border 0.2s;
}
.model-bubble {
  background: rgba(16, 185, 129, 0.18); /* green-500 with opacity */
  color: #fff;
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  border: 1px solid rgba(16, 185, 129, 0.18);
  box-shadow: 0 4px 24px 0 rgba(31,38,135,0.10);
  transition: background 0.2s, border 0.2s;
}